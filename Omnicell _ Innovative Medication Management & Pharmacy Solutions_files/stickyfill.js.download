!function(n,t){"use strict";function v(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function u(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])}function f(n){return parseFloat(n)||0}function h(n){for(var t=0;n;)t+=n.offsetTop,n=n.offsetParent;return t}function c(){function s(){n.pageXOffset!=r.left?(r.top=n.pageYOffset,r.left=n.pageXOffset,o.refreshAll()):n.pageYOffset!=r.top&&(r.top=n.pageYOffset,r.left=n.pageXOffset,i.forEach(function(n){return n._recalcPosition()}))}function e(){h=setInterval(function(){i.forEach(function(n){return n._fastCheck()})},500)}function c(){clearInterval(h)}if(!a){a=!0;s();n.addEventListener("scroll",s);n.addEventListener("resize",o.refreshAll);n.addEventListener("orientationchange",o.refreshAll);var h=void 0,u=void 0,f=void 0;"hidden"in t?(u="hidden",f="visibilitychange"):"webkitHidden"in t&&(u="webkitHidden",f="webkitvisibilitychange");f?(t[u]||e(),t.addEventListener(f,function(){t[u]?c():e()})):e()}}var y=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),e=!1,l="undefined"!=typeof n;l&&n.getComputedStyle?!function(){var n=t.createElement("div");["","-webkit-","-moz-","-ms-"].some(function(t){try{n.style.position=t+"sticky"}catch(n){}return""!=n.style.position})&&(e=!0)}():e=!0;var a=!1,p="undefined"!=typeof ShadowRoot,r={top:null,left:null},i=[],s=function(){function o(n){if(v(this,o),!(n instanceof HTMLElement))throw new Error("First argument must be HTMLElement");if(i.some(function(t){return t._node===n}))throw new Error("Stickyfill is already applied to this node");this._node=n;this._stickyMode=null;this._active=!1;i.push(this);this.refresh()}return y(o,[{key:"refresh",value:function(){var k,w,b,l;if(!e&&!this._removed){this._active&&this._deactivate();var i=this._node,r=getComputedStyle(i),o={position:r.position,top:r.top,display:r.display,marginTop:r.marginTop,marginBottom:r.marginBottom,marginLeft:r.marginLeft,marginRight:r.marginRight,cssFloat:r.cssFloat};if(!isNaN(parseFloat(o.top))&&"table-cell"!=o.display&&"none"!=o.display){this._active=!0;k=i.style.position;"sticky"!=r.position&&"-webkit-sticky"!=r.position||(i.style.position="static");var v=i.parentNode,c=p&&v instanceof ShadowRoot?v.host:v,s=i.getBoundingClientRect(),y=c.getBoundingClientRect(),a=getComputedStyle(c);this._parent={node:c,styles:{position:c.style.position},offsetHeight:c.offsetHeight};this._offsetToWindow={left:s.left,right:t.documentElement.clientWidth-s.right};this._offsetToParent={top:s.top-y.top-f(a.borderTopWidth),left:s.left-y.left-f(a.borderLeftWidth),right:-s.right+y.right-f(a.borderRightWidth)};this._styles={position:k,top:i.style.top,bottom:i.style.bottom,left:i.style.left,right:i.style.right,width:i.style.width,marginTop:i.style.marginTop,marginLeft:i.style.marginLeft,marginRight:i.style.marginRight};w=f(o.top);this._limits={start:s.top+n.pageYOffset-w,end:y.top+n.pageYOffset+c.offsetHeight-f(a.borderBottomWidth)-i.offsetHeight-w-f(o.marginBottom)};b=a.position;"absolute"!=b&&"relative"!=b&&(c.style.position="relative");this._recalcPosition();l=this._clone={};l.node=t.createElement("div");u(l.node.style,{width:s.right-s.left+"px",height:s.bottom-s.top+"px",marginTop:o.marginTop,marginBottom:o.marginBottom,marginLeft:o.marginLeft,marginRight:o.marginRight,cssFloat:o.cssFloat,padding:0,border:0,borderSpacing:0,fontSize:"1em",position:"static"});v.insertBefore(l.node,i);l.docOffsetTop=h(l.node)}}}},{key:"_recalcPosition",value:function(){if(this._active&&!this._removed){var n=r.top<=this._limits.start?"start":r.top>=this._limits.end?"end":"middle";if(this._stickyMode!=n){switch(n){case"start":u(this._node.style,{position:"absolute",left:this._offsetToParent.left+"px",right:this._offsetToParent.right+"px",top:this._offsetToParent.top+"px",bottom:"auto",width:"auto",marginLeft:0,marginRight:0,marginTop:0});break;case"middle":u(this._node.style,{position:"fixed",left:this._offsetToWindow.left+"px",right:this._offsetToWindow.right+"px",top:this._styles.top,bottom:"auto",width:"auto",marginLeft:0,marginRight:0,marginTop:0});break;case"end":u(this._node.style,{position:"absolute",left:this._offsetToParent.left+"px",right:this._offsetToParent.right+"px",top:"auto",bottom:0,width:"auto",marginLeft:0,marginRight:0})}this._stickyMode=n}}}},{key:"_fastCheck",value:function(){this._active&&!this._removed&&(Math.abs(h(this._clone.node)-this._clone.docOffsetTop)>1||Math.abs(this._parent.node.offsetHeight-this._parent.offsetHeight)>1)&&this.refresh()}},{key:"_deactivate",value:function(){var n=this;this._active&&!this._removed&&(this._clone.node.parentNode.removeChild(this._clone.node),delete this._clone,u(this._node.style,this._styles),delete this._styles,i.some(function(t){return t!==n&&t._parent&&t._parent.node===n._parent.node})||u(this._parent.node.style,this._parent.styles),delete this._parent,this._stickyMode=null,this._active=!1,delete this._offsetToWindow,delete this._offsetToParent,delete this._limits)}},{key:"remove",value:function(){var n=this;this._deactivate();i.some(function(t,r){if(t._node===n._node)return i.splice(r,1),!0});this._removed=!0}}]),o}(),o={stickies:i,Sticky:s,forceSticky:function(){e=!1;c();this.refreshAll()},addOne:function(n){if(!(n instanceof HTMLElement)){if(!n.length||!n[0])return;n=n[0]}for(var t=0;t<i.length;t++)if(i[t]._node===n)return i[t];return new s(n)},add:function(n){if(n instanceof HTMLElement&&(n=[n]),n.length){for(var t=[],u=function(r){var u=n[r];return u instanceof HTMLElement?i.some(function(n){if(n._node===u)return t.push(n),!0})?"continue":void t.push(new s(u)):(t.push(void 0),"continue")},r=0;r<n.length;r++)u(r);return t}},refreshAll:function(){i.forEach(function(n){return n.refresh()})},removeOne:function(n){if(!(n instanceof HTMLElement)){if(!n.length||!n[0])return;n=n[0]}i.some(function(t){if(t._node===n)return t.remove(),!0})},remove:function(n){if(n instanceof HTMLElement&&(n=[n]),n.length)for(var r=function(t){var r=n[t];i.some(function(n){if(n._node===r)return n.remove(),!0})},t=0;t<n.length;t++)r(t)},removeAll:function(){for(;i.length;)i[0].remove()}};e||c();"undefined"!=typeof module&&module.exports?module.exports=o:l&&(n.Stickyfill=o)}(window,document)