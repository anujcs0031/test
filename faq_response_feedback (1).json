{
  "name" : "faq_response_feedback",
  "description" : null,
  "route" : null,
  "rootNode" : "rootPath",
  "blocks" : [ {
    "type" : "AmeliaAsks",
    "id" : "af2701b3-546d-4dc8-89ab-968bae560408",
    "properties" : {
      "form_input_data_variable" : "",
      "allow_others_priority" : "continue_on_current_process"
    },
    "customProperties" : { },
    "metaData" : {
      "A2_DOBJECT" : "support",
      "A1_VERB" : "be"
    },
    "parentBlockId" : null,
    "entity" : null,
    "inputType" : "TEXT",
    "repromptConfig" : {
      "matchers" : [ ],
      "maximumReprompts" : 3,
      "escalationMessage" : ""
    },
    "responsePool" : "",
    "formVariable" : null,
    "valid" : {
      "id" : "59ae536a-7422-45a5-9e62-4c5b6f837571",
      "message" : "",
      "expression" : "response:yes() ",
      "auto" : true
    },
    "invalid" : {
      "id" : "ff48e52f-0620-4f52-acaf-59cb17a1f616",
      "message" : "",
      "expression" : "response:no()",
      "auto" : false
    },
    "idk" : {
      "id" : "6194f125-5d3b-4b04-ad77-4ccbc22b952c",
      "message" : "I was expecting a yes or no",
      "expression" : "bpn:otherwise()",
      "auto" : false
    },
    "values" : [ ],
    "widget" : {
      "type" : "FORM_INPUT_SINGLE_SELECT_BUTTON",
      "sendMessage" : false,
      "targetVariable" : null,
      "items" : [ {
        "name" : "Yes",
        "nameForDisplay" : null,
        "value" : "Yes",
        "expression" : null,
        "valueForDisplay" : null,
        "imageBase64" : "",
        "imageAltText" : "",
        "selected" : false,
        "disabled" : false,
        "hidden" : false
      }, {
        "name" : "No",
        "nameForDisplay" : null,
        "value" : "No",
        "expression" : null,
        "valueForDisplay" : null,
        "imageBase64" : "",
        "imageAltText" : "",
        "selected" : false,
        "disabled" : false,
        "hidden" : false
      } ],
      "itemTemplates" : null,
      "dynamic" : false,
      "dataSourceName" : null,
      "dataSourceAlias" : null,
      "dataSourceType" : null,
      "allowedUserInputs" : "FORM_ONLY"
    },
    "localizations" : [ ],
    "name" : "",
    "amelia" : "Was this support helpful?",
    "user" : "",
    "annotations" : [ ],
    "responsePoolGroup" : null
  }, {
    "type" : "AmeliaAsks",
    "id" : "27078dec-047e-49e8-8bb4-8a1198f04ee1",
    "properties" : { },
    "customProperties" : { },
    "metaData" : {
      "A2_DOBJECT" : "",
      "A1_VERB" : "talk"
    },
    "parentBlockId" : null,
    "entity" : null,
    "inputType" : "TEXT",
    "repromptConfig" : {
      "matchers" : [ ],
      "maximumReprompts" : 3,
      "escalationMessage" : ""
    },
    "responsePool" : "",
    "formVariable" : null,
    "valid" : {
      "id" : "03dbabf8-61ff-4f98-8767-c043e904112c",
      "message" : "",
      "expression" : "response:no()",
      "auto" : true
    },
    "invalid" : {
      "id" : "93dfb09e-8cf2-4927-8dfd-882b0c933261",
      "message" : "",
      "expression" : "response:yes()",
      "auto" : false
    },
    "idk" : {
      "id" : "43392114-080c-4663-be6d-6ae66e3e9b3e",
      "message" : "I was expecting a yes or no",
      "expression" : "bpn:otherwise()",
      "auto" : false
    },
    "values" : [ ],
    "widget" : {
      "type" : "FORM_INPUT_SINGLE_SELECT_BUTTON",
      "sendMessage" : false,
      "targetVariable" : null,
      "items" : [ {
        "name" : "Yes",
        "nameForDisplay" : null,
        "value" : "Yes",
        "expression" : null,
        "valueForDisplay" : null,
        "imageBase64" : "",
        "imageAltText" : "",
        "selected" : false,
        "disabled" : false,
        "hidden" : false
      }, {
        "name" : "No",
        "nameForDisplay" : null,
        "value" : "No",
        "expression" : null,
        "valueForDisplay" : null,
        "imageBase64" : "",
        "imageAltText" : "",
        "selected" : false,
        "disabled" : false,
        "hidden" : false
      } ],
      "itemTemplates" : null,
      "dynamic" : false,
      "dataSourceName" : null,
      "dataSourceAlias" : null,
      "dataSourceType" : null,
      "allowedUserInputs" : "FORM_ONLY"
    },
    "localizations" : [ ],
    "name" : "",
    "amelia" : "Would you like to talk to an agent ?",
    "user" : "",
    "annotations" : [ ],
    "responsePoolGroup" : null
  }, {
    "type" : "End",
    "id" : "122689ff-9830-4165-857e-f452354d8f6d",
    "properties" : { },
    "customProperties" : { },
    "metaData" : { },
    "endType" : "EXIT_FLOW",
    "name" : "Exit Flow",
    "amelia" : "",
    "user" : "",
    "annotations" : [ ]
  }, {
    "type" : "Escalation",
    "id" : "3fc12ac9-ffa4-4449-b2e8-303d18098c2c",
    "properties" : { },
    "customProperties" : { },
    "metaData" : { },
    "queue" : "",
    "reason" : "Escalation",
    "escalationVariables" : [ ],
    "name" : "Escalation",
    "amelia" : "",
    "user" : "",
    "annotations" : [ ]
  }, {
    "type" : "End",
    "id" : "b0c68084-62f5-4593-a032-bc8916c10480",
    "properties" : { },
    "customProperties" : { },
    "metaData" : { },
    "endType" : "EXIT_FLOW",
    "name" : "Exit Flow",
    "amelia" : "",
    "user" : "",
    "annotations" : [ ]
  }, {
    "type" : "Script",
    "id" : "ab5086ea-53e1-4f65-8944-e3618782b85f",
    "properties" : { },
    "customProperties" : { },
    "metaData" : { },
    "script" : "def intent = contextService?.triggeredIntent()?.intent?.code?.toLowerCase()\r\ncustomMetricService.upsertMetric(intent,\"EBD\")",
    "format" : null,
    "includedScripts" : [ ],
    "name" : "Edit Script",
    "amelia" : "",
    "user" : "",
    "annotations" : [ ]
  }, {
    "type" : "Script",
    "id" : "90124f28-6121-4589-be6b-da8566f45234",
    "properties" : { },
    "customProperties" : { },
    "metaData" : { },
    "script" : "def intent = contextService?.triggeredIntent()?.intent?.code?.toLowerCase()\r\nentityValue = execution.getVariable(\"entityValue\")\r\nif(entityValue != null && entityValue !=\"\"){\r\ncustomMetricService.upsertMetric(\"Interaction-\"+intent+\"-\"+entityValue,\"Like\")\r\n}else{\r\ncustomMetricService.upsertMetric(\"Interaction-\"+intent,\"Like\")\r\n}",
    "format" : null,
    "includedScripts" : [ ],
    "name" : "Edit Script",
    "amelia" : "",
    "user" : "",
    "annotations" : [ ]
  }, {
    "type" : "Script",
    "id" : "133ca9ad-1a56-4e9d-9671-9f1e1db1b6d7",
    "properties" : { },
    "customProperties" : { },
    "metaData" : { },
    "script" : "def intent = contextService?.triggeredIntent()?.intent?.code?.toLowerCase()\r\nentityValue = execution.getVariable(\"entityValue\")\r\nif(entityValue != null && entityValue !=\"\"){\r\ncustomMetricService.upsertMetric(\"Interaction-\"+intent+\"-\"+entityValue,\"Dislike\")\r\n}else{\r\ncustomMetricService.upsertMetric(\"Interaction-\"+intent,\"Dislike\")\r\n}",
    "format" : null,
    "includedScripts" : [ ],
    "name" : "Edit Script",
    "amelia" : "",
    "user" : "",
    "annotations" : [ ]
  }, {
    "type" : "AmeliaAsks",
    "id" : "81010244-af4d-4d69-9ad9-76ba51eb70ef",
    "properties" : {
      "allow_others_priority" : "continue_on_current_process",
      "allow_other_subsystems_to_respond_on_imperative" : "no",
      "allow_other_subsystems_to_respond_on_interrogative" : "no",
      "allow_direct_escalation" : "yes",
      "allow_intent_switch" : "no"
    },
    "customProperties" : { },
    "metaData" : {
      "A2_DOBJECT" : "what went wrong",
      "A1_VERB" : "elaborate"
    },
    "parentBlockId" : null,
    "entity" : null,
    "inputType" : "TEXT",
    "repromptConfig" : {
      "matchers" : [ ],
      "maximumReprompts" : 3,
      "escalationMessage" : ""
    },
    "responsePool" : "",
    "formVariable" : null,
    "valid" : {
      "id" : "6043d819-4cf7-4274-9a3f-6ae0e24295a8",
      "message" : "",
      "expression" : "bpn:otherwise()",
      "auto" : false
    },
    "invalid" : {
      "id" : "afe04b4e-76e6-481c-8b60-ccb811b568e6",
      "message" : "",
      "expression" : "",
      "auto" : false
    },
    "idk" : {
      "id" : "3abee809-1329-40f2-a072-b8f32cf056c2",
      "message" : "",
      "expression" : "",
      "auto" : false
    },
    "values" : [ ],
    "widget" : null,
    "localizations" : [ ],
    "name" : "",
    "amelia" : "Thank you for your feedback. Could you please provide more details about how I can improve your experience? ",
    "user" : "",
    "annotations" : [ ],
    "responsePoolGroup" : null
  }, {
    "type" : "Script",
    "id" : "403891e5-c974-4d6c-8222-39e92bcfa6c7",
    "properties" : { },
    "customProperties" : { },
    "metaData" : { },
    "script" : "def userResponse = execution.getVariable(\"response\")\r\nlog.info(\"User FeedBack \"+userResponse)\r\n\r\n\r\ncustomMetricService.upsertMetric(\"improvement_feedback\",userResponse)\r\n",
    "format" : null,
    "includedScripts" : [ ],
    "name" : "get user response",
    "amelia" : "",
    "user" : "",
    "annotations" : [ ]
  } ],
  "nodes" : [ {
    "id" : "rootPath",
    "type" : "Path",
    "blocks" : [ "af2701b3-546d-4dc8-89ab-968bae560408", "90124f28-6121-4589-be6b-da8566f45234", "b0c68084-62f5-4593-a032-bc8916c10480" ],
    "position" : {
      "x" : 0.0,
      "y" : 0.0
    }
  }, {
    "id" : "8b1c1afa-fe0c-4d0e-b8b9-83df0c5cdde1",
    "type" : "Path",
    "blocks" : [ "133ca9ad-1a56-4e9d-9671-9f1e1db1b6d7", "81010244-af4d-4d69-9ad9-76ba51eb70ef", "403891e5-c974-4d6c-8222-39e92bcfa6c7", "27078dec-047e-49e8-8bb4-8a1198f04ee1", "122689ff-9830-4165-857e-f452354d8f6d" ],
    "position" : {
      "x" : 0.0,
      "y" : 0.0
    }
  }, {
    "id" : "fca3e481-ac1c-456f-880b-2c2d5637a704",
    "type" : "Path",
    "blocks" : [ "ab5086ea-53e1-4f65-8944-e3618782b85f", "3fc12ac9-ffa4-4449-b2e8-303d18098c2c" ],
    "position" : {
      "x" : 0.0,
      "y" : 300.0
    }
  } ],
  "edges" : [ {
    "id" : "6adf1ef9-5702-4f05-8e97-6ef49c2d8161",
    "from" : {
      "id" : "rootPath",
      "blockId" : "af2701b3-546d-4dc8-89ab-968bae560408",
      "handleId" : "6194f125-5d3b-4b04-ad77-4ccbc22b952c"
    },
    "to" : {
      "id" : "rootPath",
      "blockId" : "af2701b3-546d-4dc8-89ab-968bae560408",
      "handleId" : "loopback"
    },
    "expression" : null,
    "name" : "",
    "default" : false
  }, {
    "id" : "4ea4adc6-e182-45bd-9fce-b090eb0a8a9d",
    "from" : {
      "id" : "8b1c1afa-fe0c-4d0e-b8b9-83df0c5cdde1",
      "blockId" : "27078dec-047e-49e8-8bb4-8a1198f04ee1",
      "handleId" : "43392114-080c-4663-be6d-6ae66e3e9b3e"
    },
    "to" : {
      "id" : "8b1c1afa-fe0c-4d0e-b8b9-83df0c5cdde1",
      "blockId" : "27078dec-047e-49e8-8bb4-8a1198f04ee1",
      "handleId" : "loopback"
    },
    "expression" : null,
    "name" : "",
    "default" : false
  }, {
    "id" : "0060a5ad-cc2f-4331-8c0a-f924eb317561",
    "from" : {
      "id" : "rootPath",
      "blockId" : "af2701b3-546d-4dc8-89ab-968bae560408",
      "handleId" : "ff48e52f-0620-4f52-acaf-59cb17a1f616"
    },
    "to" : {
      "id" : "8b1c1afa-fe0c-4d0e-b8b9-83df0c5cdde1",
      "blockId" : "133ca9ad-1a56-4e9d-9671-9f1e1db1b6d7",
      "handleId" : null
    },
    "expression" : "",
    "name" : "",
    "default" : true
  }, {
    "id" : "07ab6c05-b5fa-4c9e-b9e5-5c871658bfb4",
    "from" : {
      "id" : "8b1c1afa-fe0c-4d0e-b8b9-83df0c5cdde1",
      "blockId" : "27078dec-047e-49e8-8bb4-8a1198f04ee1",
      "handleId" : "93dfb09e-8cf2-4927-8dfd-882b0c933261"
    },
    "to" : {
      "id" : "fca3e481-ac1c-456f-880b-2c2d5637a704",
      "blockId" : "ab5086ea-53e1-4f65-8944-e3618782b85f",
      "handleId" : null
    },
    "expression" : "",
    "name" : "",
    "default" : true
  } ],
  "properties" : { }
}